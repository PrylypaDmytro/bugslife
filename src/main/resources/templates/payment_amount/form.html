<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{layout/layout}"
>
  <th:block layout:fragment="content">
    <h1 th:if="${opAmount.id == null}">新規 取引金額</h1>
    <h1 th:if="${opAmount.id != null}">取引金額 編集</h1>
    <hr />
    <form
      th:action="@{/paymentAmounts}"
      th:method="@{${opAmount.id == null} ? 'post' : 'put'}"
      th:object="${opAmount}"
    >
      <input type="hidden" th:field="*{id}" />
      <input type="hidden" th:field="*{orderId}" />
      <input type="hidden" th:field="*{order}" />

      <div class="form-group">
        <label for="price">金額</label>
        <input
          id="price"
          name="price"
          type="number"
          class="form-control"
          th:field="*{price}"
        />
      </div>
      <div class="form-group">
        <label for="dueDate">期限日</label>
        <input
          id="dueDate"
          name="dueDate"
          type="date"
          class="form-control"
          th:field="*{dueDate}"
        />
      </div>
      <div class="form-group">
        <label for="hasPaid">対応済</label>
        <input
          class="form-check-input"
          type="checkbox"
          name="hasPaid"
          id="hasPaid"
          value="true"
          th:field="*{hasPaid}"
        />
      </div>
      <div class="form-group">
        <label for="memo">メモ</label>
        <textarea
          id="memo"
          name="memo"
          class="form-control"
          th:field="*{memo}"
        ></textarea>
      </div>

      <button type="submit" class="btn btn-success">保存</button>
      <a
        th:href="@{/orders/{o_id}(o_id = ${opAmount.order.id})}"
        class="btn btn-default"
        >戻る</a
      >
    </form>
  </th:block>
</html>
